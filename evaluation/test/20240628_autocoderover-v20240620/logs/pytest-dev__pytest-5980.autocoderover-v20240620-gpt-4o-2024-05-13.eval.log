[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Task Metadata:
	- Instance ID: pytest-dev__pytest-5980
	- Testbed: pytest-dev__pytest__5.2
	- Evaluation Model: autocoderover-v20240620-gpt-4o-2024-05-13
	- Python version: Python 3.11.8
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git -c advice.detachedHead=false checkout 0225cb37c02b6760c8b1d0efcf3728f669bbfe17 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": true, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
Previous HEAD position was f36ea240f Remove check for os.symlink, always there in py3+ (#6227)
HEAD is now at 0225cb37c Merge pull request #6077 from blueyed/ci-remove-single-py37-pexpect
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git apply -v /home/swe-bench/temp_pytest-dev__pytest-5980_pred_try.patch 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": false, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
Checking patch src/_pytest/resultlog.py...
Applied patch src/_pytest/resultlog.py cleanly.
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Apply patch successful (pred_try) 
>>>>> Applied Patch (pred_try)
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git apply -v -R /home/swe-bench/temp_pytest-dev__pytest-5980_pred_try.patch 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": false, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
Checking patch src/_pytest/resultlog.py...
Applied patch src/_pytest/resultlog.py cleanly.
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Revert patch successful (pred_try) 
>>>>> Applied Patch (pred_try)
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git apply -v /home/swe-bench/temp_pytest-dev__pytest-5980_pred.patch 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": false, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
Checking patch src/_pytest/resultlog.py...
Applied patch src/_pytest/resultlog.py cleanly.
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Apply patch successful (pred) 
>>>>> Applied Patch (pred)
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git restore testing/test_reports.py 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": true, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: git apply -v /home/swe-bench/temp_pytest-dev__pytest-5980_test.patch 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": false, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
Checking patch testing/test_report_log.py...
Checking patch testing/test_reports.py...
Applied patch testing/test_report_log.py cleanly.
Applied patch testing/test_reports.py cleanly.
 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 0 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Apply patch successful (test) 
>>>>> Applied Patch (test)
Test Script: conda run -n pytest-dev__pytest__5.2  pytest -rA testing/test_report_log.py testing/test_reports.py;
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Command: conda run -n pytest-dev__pytest__5.2 pytest -rA testing/test_report_log.py testing/test_reports.py 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Subprocess args: {"cwd": "/home/swe-bench/pytest-dev__pytest", "check": false, "shell": false, "universal_newlines": true, "stdout": -1, "stderr": -2, "timeout": 1800} 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Std. Output:
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /home/swe-bench/pytest-dev__pytest, inifile: tox.ini
collected 17 items

testing/test_report_log.py F                                             [  5%]
testing/test_reports.py ............FFFF                                 [100%]

=================================== FAILURES ===================================
_________________________________ test_basics __________________________________

testdir = <Testdir local('/tmp/pytest-of-swe-bench/pytest-0/test_basics0')>
tmp_path = PosixPath('/tmp/pytest-of-swe-bench/pytest-0/test_basics1')
pytestconfig = <_pytest.config.Config object at 0x7fdf09600970>

    def test_basics(testdir, tmp_path, pytestconfig):
        """Basic testing of the report log functionality.
    
        We don't test the test reports extensively because they have been
        tested already in ``test_reports``.
        """
        testdir.makepyfile(
            """
            def test_ok():
                pass
    
            def test_fail():
                assert 0
        """
        )
    
        log_file = tmp_path / "log.json"
    
        result = testdir.runpytest("--report-log", str(log_file))
>       assert result.ret == pytest.ExitCode.TESTS_FAILED
E       AssertionError: assert <ExitCode.USAGE_ERROR: 4> == <ExitCode.TESTS_FAILED: 1>
E        +  where <ExitCode.USAGE_ERROR: 4> = <RunResult ret=ExitCode.USAGE_ERROR len(stdout.lines)=0 len(stderr.lines)=5 duration=0.01s>.ret
E        +  and   <ExitCode.TESTS_FAILED: 1> = <enum 'ExitCode'>.TESTS_FAILED
E        +    where <enum 'ExitCode'> = pytest.ExitCode

/home/swe-bench/pytest-dev__pytest/testing/test_report_log.py:26: AssertionError
----------------------------- Captured stderr call -----------------------------
ERROR: usage: pytest [options] [file_or_dir] [file_or_dir] [...]
pytest: error: unrecognized arguments: --report-log
  inifile: None
  rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_basics0

__________________________ TestHooks.test_test_report __________________________

self = <test_reports.TestHooks object at 0x7fdf0856ce50>
testdir = <Testdir local('/tmp/pytest-of-swe-bench/pytest-0/test_test_report0')>
pytestconfig = <_pytest.config.Config object at 0x7fdf09600970>

    def test_test_report(self, testdir, pytestconfig):
        testdir.makepyfile(
            """
            def test_a(): assert False
            def test_b(): pass
        """
        )
        reprec = testdir.inline_run()
        reports = reprec.getreports("pytest_runtest_logreport")
        assert len(reports) == 6
        for rep in reports:
            data = pytestconfig.hook.pytest_report_to_serializable(
                config=pytestconfig, report=rep
            )
>           assert data["$report_type"] == "TestReport"
E           KeyError: '$report_type'

/home/swe-bench/pytest-dev__pytest/testing/test_reports.py:333: KeyError
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_test_report0
collected 2 items

test_test_report.py F.                                                   [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

>   def test_a(): assert False
E   assert False

test_test_report.py:1: AssertionError
========================= 1 failed, 1 passed in 0.01s ==========================
________________________ TestHooks.test_collect_report _________________________

self = <test_reports.TestHooks object at 0x7fdf0824cdc0>
testdir = <Testdir local('/tmp/pytest-of-swe-bench/pytest-0/test_collect_report0')>
pytestconfig = <_pytest.config.Config object at 0x7fdf09600970>

    def test_collect_report(self, testdir, pytestconfig):
        testdir.makepyfile(
            """
            def test_a(): assert False
            def test_b(): pass
        """
        )
        reprec = testdir.inline_run()
        reports = reprec.getreports("pytest_collectreport")
        assert len(reports) == 2
        for rep in reports:
            data = pytestconfig.hook.pytest_report_to_serializable(
                config=pytestconfig, report=rep
            )
>           assert data["$report_type"] == "CollectReport"
E           KeyError: '$report_type'

/home/swe-bench/pytest-dev__pytest/testing/test_reports.py:355: KeyError
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_collect_report0
collected 2 items

test_collect_report.py F.                                                [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

>   def test_a(): assert False
E   assert False

test_collect_report.py:1: AssertionError
========================= 1 failed, 1 passed in 0.01s ==========================
________ TestHooks.test_invalid_report_types[pytest_runtest_logreport] _________

self = <test_reports.TestHooks object at 0x7fdf08444df0>
testdir = <Testdir local('/tmp/pytest-of-swe-bench/pytest-0/test_invalid_report_types0')>
pytestconfig = <_pytest.config.Config object at 0x7fdf09600970>
hook_name = 'pytest_runtest_logreport'

    @pytest.mark.parametrize(
        "hook_name", ["pytest_runtest_logreport", "pytest_collectreport"]
    )
    def test_invalid_report_types(self, testdir, pytestconfig, hook_name):
        testdir.makepyfile(
            """
            def test_a(): pass
            """
        )
        reprec = testdir.inline_run()
        reports = reprec.getreports(hook_name)
        assert reports
        rep = reports[0]
        data = pytestconfig.hook.pytest_report_to_serializable(
            config=pytestconfig, report=rep
        )
        data["$report_type"] = "Unknown"
        with pytest.raises(AssertionError):
>           _ = pytestconfig.hook.pytest_report_from_serializable(
                config=pytestconfig, data=data
            )
E           Failed: DID NOT RAISE <class 'AssertionError'>

/home/swe-bench/pytest-dev__pytest/testing/test_reports.py:381: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_invalid_report_types0
collected 1 item

test_invalid_report_types.py .                                           [100%]

============================== 1 passed in 0.00s ===============================
__________ TestHooks.test_invalid_report_types[pytest_collectreport] ___________

self = <test_reports.TestHooks object at 0x7fdf08604e20>
testdir = <Testdir local('/tmp/pytest-of-swe-bench/pytest-0/test_invalid_report_types1')>
pytestconfig = <_pytest.config.Config object at 0x7fdf09600970>
hook_name = 'pytest_collectreport'

    @pytest.mark.parametrize(
        "hook_name", ["pytest_runtest_logreport", "pytest_collectreport"]
    )
    def test_invalid_report_types(self, testdir, pytestconfig, hook_name):
        testdir.makepyfile(
            """
            def test_a(): pass
            """
        )
        reprec = testdir.inline_run()
        reports = reprec.getreports(hook_name)
        assert reports
        rep = reports[0]
        data = pytestconfig.hook.pytest_report_to_serializable(
            config=pytestconfig, report=rep
        )
        data["$report_type"] = "Unknown"
        with pytest.raises(AssertionError):
>           _ = pytestconfig.hook.pytest_report_from_serializable(
                config=pytestconfig, data=data
            )
E           Failed: DID NOT RAISE <class 'AssertionError'>

/home/swe-bench/pytest-dev__pytest/testing/test_reports.py:381: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_invalid_report_types1
collected 1 item

test_invalid_report_types.py .                                           [100%]

============================== 1 passed in 0.03s ===============================
==================================== PASSES ====================================
_________ TestReportSerialization.test_xdist_longrepr_to_str_issue_241 _________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_xdist_longrepr_to_str_issue_2410
collected 2 items

test_xdist_longrepr_to_str_issue_241.py F.                               [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

>   def test_a(): assert False
E   assert False

test_xdist_longrepr_to_str_issue_241.py:1: AssertionError
========================= 1 failed, 1 passed in 0.01s ==========================
_______ TestReportSerialization.test_xdist_report_longrepr_reprcrash_130 _______
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_xdist_report_longrepr_reprcrash_1300
collected 1 item

test_xdist_report_longrepr_reprcrash_130.py F                            [100%]

=================================== FAILURES ===================================
__________________________________ test_fail ___________________________________

    def test_fail():
>       assert False, 'Expected Message'
E       AssertionError: Expected Message
E       assert False

test_xdist_report_longrepr_reprcrash_130.py:2: AssertionError
============================== 1 failed in 0.07s ===============================
__________ TestReportSerialization.test_reprentries_serialization_170 __________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_reprentries_serialization_1700
collected 1 item

test_reprentries_serialization_170.py F                                  [100%]

=================================== FAILURES ===================================
_______________________________ test_repr_entry ________________________________

    def test_repr_entry():
        x = 0
>       assert x
E       assert 0

x          = 0

test_reprentries_serialization_170.py:3: AssertionError
============================== 1 failed in 0.01s ===============================
__________ TestReportSerialization.test_reprentries_serialization_196 __________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_reprentries_serialization_1960
collected 1 item

test_reprentries_serialization_196.py F                                  [100%]

=================================== FAILURES ===================================
____________________________ test_repr_entry_native ____________________________
Traceback (most recent call last):
  File "/tmp/pytest-of-swe-bench/pytest-0/test_reprentries_serialization_1960/test_reprentries_serialization_196.py", line 3, in test_repr_entry_native
    assert x
AssertionError: assert 0
============================== 1 failed in 0.01s ===============================
_______________ TestReportSerialization.test_itemreport_outcomes _______________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_itemreport_outcomes0
collected 6 items

test_itemreport_outcomes.py .Fssxx                                       [100%]

=================================== FAILURES ===================================
__________________________________ test_fail ___________________________________

>   def test_fail(): 0/0
E   ZeroDivisionError: division by zero

test_itemreport_outcomes.py:3: ZeroDivisionError
============== 1 failed, 1 passed, 2 skipped, 2 xfailed in 0.04s ===============
______________ TestReportSerialization.test_collectreport_passed _______________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_collectreport_passed0
collected 1 item

test_collectreport_passed.py .                                           [100%]

============================== 1 passed in 0.00s ===============================
_______________ TestReportSerialization.test_collectreport_fail ________________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_collectreport_fail0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________ ERROR collecting test_collectreport_fail.py __________________
/home/swe-bench/pytest-dev__pytest/src/_pytest/python.py:501: in _importtestmodule
    mod = self.fspath.pyimport(ensuresyspath=importmode)
/home/swe-bench/miniconda3/envs/pytest-dev__pytest__5.2/lib/python3.9/site-packages/py/_path/local.py:704: in pyimport
    __import__(modname)
<frozen importlib._bootstrap>:1007: in _find_and_load
    ???
<frozen importlib._bootstrap>:986: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:680: in _load_unlocked
    ???
/home/swe-bench/pytest-dev__pytest/src/_pytest/assertion/rewrite.py:136: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
/home/swe-bench/pytest-dev__pytest/src/_pytest/assertion/rewrite.py:286: in _rewrite_test
    tree = ast.parse(source, filename=fn)
/home/swe-bench/miniconda3/envs/pytest-dev__pytest__5.2/lib/python3.9/ast.py:50: in parse
    return compile(source, filename, mode, flags,
E     File "/tmp/pytest-of-swe-bench/pytest-0/test_collectreport_fail0/test_collectreport_fail.py", line 1
E       qwe abc
E           ^
E   SyntaxError: invalid syntax
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.14s ===============================
_________ TestReportSerialization.test_extended_report_deserialization _________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_extended_report_deserialization0
collected 0 items / 1 error

==================================== ERRORS ====================================
___________ ERROR collecting test_extended_report_deserialization.py ___________
/home/swe-bench/pytest-dev__pytest/src/_pytest/python.py:501: in _importtestmodule
    mod = self.fspath.pyimport(ensuresyspath=importmode)
/home/swe-bench/miniconda3/envs/pytest-dev__pytest__5.2/lib/python3.9/site-packages/py/_path/local.py:704: in pyimport
    __import__(modname)
<frozen importlib._bootstrap>:1007: in _find_and_load
    ???
<frozen importlib._bootstrap>:986: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:680: in _load_unlocked
    ???
/home/swe-bench/pytest-dev__pytest/src/_pytest/assertion/rewrite.py:136: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
/home/swe-bench/pytest-dev__pytest/src/_pytest/assertion/rewrite.py:286: in _rewrite_test
    tree = ast.parse(source, filename=fn)
/home/swe-bench/miniconda3/envs/pytest-dev__pytest__5.2/lib/python3.9/ast.py:50: in parse
    return compile(source, filename, mode, flags,
E     File "/tmp/pytest-of-swe-bench/pytest-0/test_extended_report_deserialization0/test_extended_report_deserialization.py", line 1
E       qwe abc
E           ^
E   SyntaxError: invalid syntax
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.12s ===============================
__________________ TestReportSerialization.test_paths_support __________________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_paths_support0
collected 1 item

test_paths_support.py F                                                  [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

    def test_a():
>       assert False
E       assert False

test_paths_support.py:2: AssertionError
============================== 1 failed in 0.01s ===============================
_____________ TestReportSerialization.test_deserialization_failure _____________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_deserialization_failure0
collected 1 item

test_deserialization_failure.py F                                        [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

    def test_a():
>       assert False
E       assert False

test_deserialization_failure.py:2: AssertionError
============================== 1 failed in 0.01s ===============================
_________ TestReportSerialization.test_chained_exceptions[TestReport] __________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_chained_exceptions0
collected 1 item

test_chained_exceptions.py F                                             [100%]

=================================== FAILURES ===================================
____________________________________ test_a ____________________________________

    def test_a():
        try:
>           foo()

test_chained_exceptions.py:5: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def foo():
>       raise ValueError('value error')
E       ValueError: value error

test_chained_exceptions.py:2: ValueError

The above exception was the direct cause of the following exception:

    def test_a():
        try:
            foo()
        except ValueError as e:
>           raise RuntimeError('runtime error') from e
E           RuntimeError: runtime error

test_chained_exceptions.py:7: RuntimeError
============================== 1 failed in 0.01s ===============================
________ TestReportSerialization.test_chained_exceptions[CollectReport] ________
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.9.19, pytest-5.2.5.dev14+gf36ea240f, py-1.11.0, pluggy-0.13.1
rootdir: /tmp/pytest-of-swe-bench/pytest-0/test_chained_exceptions1
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________ ERROR collecting test_chained_exceptions.py __________________
test_chained_exceptions.py:5: in test_a
    foo()
test_chained_exceptions.py:2: in foo
    raise ValueError('value error')
E   ValueError: value error

The above exception was the direct cause of the following exception:
test_chained_exceptions.py:9: in <module>
    test_a()
test_chained_exceptions.py:7: in test_a
    raise RuntimeError('runtime error') from e
E   RuntimeError: runtime error
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.06s ===============================
=========================== short test summary info ============================
PASSED testing/test_reports.py::TestReportSerialization::test_xdist_longrepr_to_str_issue_241
PASSED testing/test_reports.py::TestReportSerialization::test_xdist_report_longrepr_reprcrash_130
PASSED testing/test_reports.py::TestReportSerialization::test_reprentries_serialization_170
PASSED testing/test_reports.py::TestReportSerialization::test_reprentries_serialization_196
PASSED testing/test_reports.py::TestReportSerialization::test_itemreport_outcomes
PASSED testing/test_reports.py::TestReportSerialization::test_collectreport_passed
PASSED testing/test_reports.py::TestReportSerialization::test_collectreport_fail
PASSED testing/test_reports.py::TestReportSerialization::test_extended_report_deserialization
PASSED testing/test_reports.py::TestReportSerialization::test_paths_support
PASSED testing/test_reports.py::TestReportSerialization::test_deserialization_failure
PASSED testing/test_reports.py::TestReportSerialization::test_chained_exceptions[TestReport]
PASSED testing/test_reports.py::TestReportSerialization::test_chained_exceptions[CollectReport]
FAILED testing/test_report_log.py::test_basics - AssertionError: assert <Exit...
FAILED testing/test_reports.py::TestHooks::test_test_report - KeyError: '$rep...
FAILED testing/test_reports.py::TestHooks::test_collect_report - KeyError: '$...
FAILED testing/test_reports.py::TestHooks::test_invalid_report_types[pytest_runtest_logreport]
FAILED testing/test_reports.py::TestHooks::test_invalid_report_types[pytest_collectreport]
========================= 5 failed, 12 passed in 1.00s =========================
ERROR conda.cli.main_run:execute(124): `conda run pytest -rA testing/test_report_log.py testing/test_reports.py` failed. (See above for error)

 
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Return Code: 1 

>>>>> Some Tests Failed
[pytest-dev__pytest__5.2] [pytest-dev__pytest-5980] Test script run successful 
